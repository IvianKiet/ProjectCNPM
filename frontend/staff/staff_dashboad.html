<!DOCTYPE html>
<html class="light" lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Danh S√°ch ƒê∆°n H√†ng Nhi·ªÅu B√†n Ph·ª•c V·ª•</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

<link
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
  rel="stylesheet"
/>

<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
  rel="stylesheet"
/>


<script id="tailwind-config">
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        "primary": "#22c55e",
        "primary-dark": "#16a34a",
        "surface": "#ffffff",
        "background": "#f1f5f9",
      },
      fontFamily: {
        "sans": ["Inter", "sans-serif"]
      },
      borderRadius: {
        "DEFAULT": "0.5rem",
        "lg": "0.75rem",
        "xl": "1rem",
        "2xl": "1.5rem",
      },
    },
  },
}
</script>

<link rel="stylesheet" href="../../assets/CSS/notifaction.css">

<style>
body { font-family: "Inter", sans-serif; }

.material-symbols-outlined {
  font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
}

.ready-card {
  box-shadow:
    0 0 0 4px rgba(34,197,94,0.25),
    0 20px 25px -5px rgba(34,197,94,0.15);
  transform: scale(1.02);
  z-index: 10;
  position: relative;
}

.processing-card {
  opacity: 0.6;
  filter: grayscale(0.5);
  transition: opacity 0.3s ease;
}
.processing-card:hover { opacity: 0.8; }
</style>
</head>

<body class="bg-background dark:bg-slate-950 min-h-screen text-slate-900 dark:text-slate-100">

<div class="layout-container flex h-full grow flex-col">

<!-- ================= HEADER ================= -->
<header class="flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-8 py-4 sticky top-0 z-50">

  <div class="flex items-center gap-8">
    <div class="flex items-center gap-3">
      <div class="size-10 bg-primary rounded-xl flex items-center justify-center shadow-lg shadow-green-500/20">
        <span class="material-symbols-outlined text-white text-[24px]">restaurant_menu</span>
      </div>
      <div>
        <h2 class="text-xl font-black tracking-tight leading-none uppercase">Qu·∫£n l√Ω Ph·ª•c v·ª•</h2>
        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1">H·ªá th·ªëng Dashboard</p>
      </div>
    </div>
  </div>

  <div class="flex items-center gap-6">
    <div class="relative hidden xl:block">
      <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">üîç</span>
      <input id="searchInput"
            class="w-72 pl-10 pr-4 py-2.5 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-primary transition-all"
            placeholder="T√¨m s·ªë b√†n ho·∫∑c m√≥n ƒÉn..."/>
    </div>

    <div class="flex items-center gap-3 border-l border-slate-200 dark:border-slate-800 pl-6">
      <div class="text-right hidden sm:block">
        <p class="text-sm font-bold leading-none user-full-name">Loading...</p>
        <p class="text-[11px] text-primary font-bold uppercase mt-1 user-role">Staff</p>
      </div>
      <div class="size-10 bg-slate-200 dark:bg-slate-800 rounded-xl bg-cover border-2 border-white dark:border-slate-700 shadow-sm"
           style='background-image: url("../restaurantOwner/default-avatar.png");'>
      </div>
    </div>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="flex flex-col flex-1 w-full px-8 py-8">

<div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10">
  <div>
    <h1 class="text-4xl font-black tracking-tight">Danh S√°ch ƒê∆°n H√†ng</h1>
    <p class="text-slate-500 mt-2 text-lg">
      ∆Øu ti√™n c√°c b√†n c√≥ tr·∫°ng th√°i
      <span class="text-primary font-extrabold underline underline-offset-4">S·∫¥NG S√ÄNG PH·ª§C V·ª§</span>
    </p>
  </div>

  <div class="flex flex-wrap gap-3">
    <!-- TAB SWITCHER -->
    <div class="flex bg-slate-100 dark:bg-slate-800 rounded-xl p-1 gap-1">
      <button id="tabServing"
        class="tab-btn active px-5 py-2.5 rounded-lg text-sm font-black transition-colors bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white">
        <span class="material-symbols-outlined text-[18px] mr-1.5 align-middle">restaurant</span>Ph·ª•c v·ª•
      </button>
      <button id="tabPayment"
        class="tab-btn px-5 py-2.5 rounded-lg text-sm font-black transition-colors text-slate-500 dark:text-slate-400 hover:text-slate-700">
        <span class="material-symbols-outlined text-[18px] mr-1.5 align-middle">payments</span>Thanh to√°n ti·ªÅn m·∫∑t
        <span id="cashPendingBadge" class="inline-flex items-center justify-center ml-1.5 bg-amber-500 text-white text-[10px] font-black rounded-full w-5 h-5 shadow-sm" style="display:none;">0</span>
      </button>
    </div>

    <button id="sortWaitBtn"
        class="flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-sm font-bold shadow-sm hover:bg-slate-50 transition-colors">
      <span class="material-symbols-outlined text-[20px]">sort</span>
      <span>Th·ªùi gian ch·ªù</span>
    </button>

    <button id="readyCounter"
      class="flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-xl text-sm font-black shadow-xl shadow-green-500/30 uppercase tracking-tight">
      <span class="material-symbols-outlined text-[20px]">check_circle</span>
      <span>S·∫µn s√†ng (<span id="readyCount">0</span>)</span>
    </button>
  </div>
</div>

<!-- ====== KHUNG R·ªñNG CHO JS RENDER ====== -->
<div id="orderList"
     class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
</div>

<!-- ====== PAYMENT PANEL (hidden by default, shown via JS tab) ====== -->
<div id="paymentPanel" class="hidden">
  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-3">
      <span class="material-symbols-outlined text-primary text-[28px]">payments</span>
      <div>
        <h2 class="text-2xl font-black">Thanh To√°n</h2>
        <p class="text-slate-400 text-sm">X√°c nh·∫≠n thanh to√°n QR ho·∫∑c thu ti·ªÅn m·∫∑t</p>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <div class="flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/20 rounded-xl">
        <span class="material-symbols-outlined text-primary text-[18px]">qr_code_2</span>
        <span class="text-primary text-sm font-black">QR: <span id="qrPaidCount">0</span></span>
      </div>
      <div class="flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-xl">
        <span class="material-symbols-outlined text-amber-500 text-[18px]">payments</span>
        <span class="text-amber-700 text-sm font-black">M·∫∑t: <span id="cashPendingCount">0</span></span>
      </div>
    </div>
  </div>

  <!-- payment card grid, populated by JS -->
  <div id="paymentList"
       class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
  </div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="mt-16 border-t border-slate-200 pt-8 flex flex-col sm:flex-row justify-between items-center gap-6 mb-12">
  <div class="flex items-center gap-10 text-[13px] font-bold uppercase tracking-wider">
    <div class="flex items-center gap-3">
      <span class="size-4 rounded-full bg-primary shadow-lg shadow-green-500/50"></span>
      <span>S·∫µn s√†ng ph·ª•c v·ª•</span>
    </div>
    <div class="flex items-center gap-3 opacity-40">
      <span class="size-4 rounded-full bg-slate-400"></span>
      <span>ƒê√É PH·ª§C V·ª§</span>
    </div>
  </div>

  <div class="flex items-center gap-8 text-[13px] font-bold text-slate-500">
    <p>ƒê√£ ph·ª•c v·ª•: 
        <span id="servedCount" class="text-slate-900 dark:text-white text-base font-black">0</span> ƒë∆°n
    </p>
  </div>
</footer>

</main>
</div>

<!-- ================= MODAL ================= -->
<div id="success_notifaction" class="modal">
  <div class="modal-content">
    <div class="icon-success">
      <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
    </div>
    <h2>Ph·ª•c v·ª• th√†nh c√¥ng</h2>
    <p>D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t v√†o h·ªá th·ªëng</p>
    <button class="btn-ok" id="close_modal">OK</button>
  </div>
</div>

<!-- SCRIPTS -->
<script src="../../assets/Javascript/auth.js"></script>
<script src="../../assets/Javascript/api/orders.js"></script>
<script src="../../assets/Javascript/staff/staff.js"></script>

</body>
</html>